apiVersion: v2
name: project-brain
description: Helm chart for deploying Project Brain, an AI-powered code analysis system
type: application

version: 1.0.0
appVersion: "1.0.0"

home: https://github.com/project-brain/analyzer-brain
sources:
  - https://github.com/project-brain/analyzer-brain

keywords:
  - code-analysis
  - artificial-intelligence
  - knowledge-graph
  - software-development
  - devtools

maintainers:
  - name: Project Brain Team
    email: team@projectbrain.dev
    url: https://projectbrain.dev

icon: https://raw.githubusercontent.com/project-brain/analyzer-brain/main/docs/logo.png

annotations:
  artifacthub.io/changes: |
    - Initial release of Project Brain Helm chart
    - Production-ready configuration for all core components
    - Supports horizontal scaling and high availability

  artifacthub.io/images: |
    - name: api
      image: projectbrain/api:1.0.0
    - name: postgresql
      image: postgres:15
    - name: neo4j
      image: neo4j:5
    - name: redis
      image: redis:7-alpine

  artifacthub.io/prerequisites: |
    - Kubernetes 1.23+
    - Helm 3.8+
    - PersistentVolume provisioner
    - Ingress controller (nginx, traefik, etc.)
    - cert-manager (optional, for TLS)

  artifacthub.io/security: |
    - Secrets managed via Kubernetes Secrets
    - RBAC enabled by default
    - Optional NetworkPolicies for pod isolation
    - Containers run as non-root users

dependencies:
  - name: postgresql
    version: 12.9.0
    repository: https://charts.bitnami.com/bitnami
    condition: postgresql.enabled

  - name: neo4j
    version: 5.17.0
    repository: https://helm.neo4j.com/neo4j
    condition: neo4j.enabled

  - name: redis
    version: 17.11.3
    repository: https://charts.bitnami.com/bitnami
    condition: redis.enabled

  - name: ingress-nginx
    version: 4.7.1
    repository: https://kubernetes.github.io/ingress-nginx
    condition: ingress.enabled

  - name: prometheus
    version: 25.8.1
    repository: https://prometheus-community.github.io/helm-charts
    condition: monitoring.prometheus.enabled

  - name: grafana
    version: 6.56.5
    repository: https://grafana.github.io/helm-charts
    condition: monitoring.grafana.enabled

  - name: cert-manager
    version: 1.13.2
    repository: https://charts.jetstack.io
    condition: certManager.enabled
