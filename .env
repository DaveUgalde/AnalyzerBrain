# ==================================================
# AnalyzerBrain — Environment (.env)
# Docker / Development
# ==================================================

# ============================================
# SISTEMA
# ============================================

BRAIN_ENVIRONMENT=development
BRAIN_LOG_LEVEL=INFO
BRAIN_DEBUG=true

BRAIN_DATA_DIR=/data
BRAIN_LOG_DIR=/logs

# ============================================
# POSTGRESQL
# ============================================
DB_PASSWORD=postgres
POSTGRES_HOST=postgres
POSTGRES_PORT=5432
POSTGRES_DB=project_brain
POSTGRES_USER=postgres
POSTGRES_PASSWORD=postgres

POSTGRES_SSL_MODE=disable

# ============================================
# NEO4J
# ============================================

NEO4J_URI=bolt://neo4j:7687
NEO4J_USER=neo4j
NEO4J_PASSWORD=neo4123j
NEO4J_DATABASE=neo4j

NEO4J_ENCRYPTED=false

# ============================================
# REDIS
# ============================================

REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0
REDIS_SSL=false

# ============================================
# CHROMADB
# ============================================

CHROMA_PERSIST_DIR=/data/embeddings
CHROMA_COLLECTION_NAME=project_knowledge
CHROMA_SIMILARITY_METRIC=cosine
CHROMA_NORMALIZE_EMBEDDINGS=true

# ============================================
# API
# ============================================

API_HOST=0.0.0.0
API_PORT=8000
API_WORKERS=1
API_RELOAD=true

WS_HOST=0.0.0.0
WS_PORT=8001

# ============================================
# AUTENTICACIÓN
# ============================================

JWT_SECRET=JWT_SECRET=dev-$(openssl rand -hex 16)
JWT_ALGORITHM=HS256
JWT_EXPIRY_HOURS=24
JWT_REFRESH_EXPIRY_DAYS=7

API_KEY_HEADER=X-API-Key
API_KEY_ROTATION_DAYS=90

# ============================================
# LÍMITES
# ============================================

MAX_PROJECT_SIZE_MB=1024
MAX_FILE_SIZE_MB=10
MAX_CONCURRENT_ANALYSES=5
MAX_CONCURRENT_QUERIES=100

ANALYSIS_TIMEOUT_MINUTES=30
QUERY_TIMEOUT_SECONDS=30
DATABASE_TIMEOUT=300

CACHE_TTL_SECONDS=3600
CACHE_STRATEGY=LRU

# ============================================
# DESARROLLO
# ============================================

HOT_RELOAD=true
WATCH_DIRS=/app/src,/app/config
WATCH_EXTENSIONS=.py,.yaml,.json

# ============================================
# BACKUPS
# ============================================

BACKUP_ENABLED=true
BACKUP_RETENTION_DAYS=30
BACKUP_LOCATION=/data/backups
